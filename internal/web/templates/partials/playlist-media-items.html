{{define "partials/playlist-media-items"}}
{{range .}}
<div class="list-group-item list-group-item-action d-flex align-items-center gap-2 media-item draggable-media"
     draggable="true"
     data-media-id="{{.ID}}" data-title="{{.Title}}" data-artist="{{.Artist}}" data-genre="{{.Genre}}"
     data-mood="{{.Mood}}" data-year="{{.Year}}" data-bpm="{{.BPM}}" data-explicit="{{.Explicit}}">
    <div class="flex-grow-1 min-width-0">
        <div class="text-truncate fw-medium">{{.Title}}</div>
        <small class="text-body-secondary text-truncate d-block">
            {{if .Artist}}{{.Artist}}{{else}}Unknown{{end}}
            {{if .Genre}}<span class="badge bg-secondary ms-1">{{.Genre}}</span>{{end}}
            {{if ne .BPM 0.0}}<span class="badge bg-info ms-1">{{printf "%.0f" .BPM}} BPM</span>{{end}}
        </small>
    </div>
    <span class="text-body-secondary small flex-shrink-0">{{formatDuration .Duration}}</span>
    <button type="button" class="btn btn-sm btn-outline-primary flex-shrink-0 add-media-btn"
            data-media-id="{{.ID}}"
            title="Add to playlist">
        <i class="bi bi-plus"></i>
    </button>
</div>
{{else}}
<div class="list-group-item text-center text-body-secondary py-4">
    <i class="bi bi-search fs-4 mb-2 d-block"></i>
    No matching media found
</div>
{{end}}
{{end}}
